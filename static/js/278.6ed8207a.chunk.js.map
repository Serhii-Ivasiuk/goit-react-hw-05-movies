{"version":3,"file":"static/js/278.6ed8207a.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.jsx","components/MoviesList/MoviesList.styled.jsx","components/SearchForm/SearchForm.jsx","components/SearchForm/SearchForm.styled.jsx","helpers/transformMovieDetailsData.js","pages/Movies/Movies.jsx","pages/Movies/Movies.styled.jsx","services/themoviedb-api.js"],"sourcesContent":["// Libs\nimport { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n// Styled components\nimport { List, StyledLink } from './MoviesList.styled';\n\nconst MoviesList = ({ data }) => {\n  const location = useLocation();\n\n  return (\n    <List>\n      {data.map(({ id, title }) => (\n        <li key={id}>\n          <StyledLink to={`/movies/${id}`} state={{ from: location }}>\n            {title}\n          </StyledLink>\n        </li>\n      ))}\n    </List>\n  );\n};\n\nMoviesList.propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n};\n\nexport default MoviesList;\n","// Libs\nimport styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n\nexport const StyledLink = styled(Link)`\n  display: block;\n  padding: 8px 20px;\n  font-size: 20px;\n  letter-spacing: 2px;\n  border-radius: 8px;\n  border-left: 8px solid #f05d22;\n  outline: 3px solid rgba(0, 0, 0, 0.15);\n  transition: 0.2s color cubic-bezier(0.4, 0, 0.2, 1),\n    0.2s border-color cubic-bezier(0.4, 0, 0.2, 1),\n    0.2s color cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover,\n  &:focus {\n    border-color: #afe5e5;\n    color: #afe5e5;\n    box-shadow: 0 0 8px rgba(94, 188, 214, 0.451);\n  }\n`;\n","// Libs\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n// Styled components\nimport {\n  SaerchForm,\n  SaerchFormLabel,\n  SearchFormInput,\n  SearchFormBtn,\n  SearchFormBtnLabel,\n} from './SearchForm.styled';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n  const [searchParams] = useSearchParams();\n\n  useEffect(() => {\n    const searchValue = searchParams.get('query') ?? '';\n\n    setQuery(searchValue);\n  }, [searchParams]);\n\n  const handleChange = evt => {\n    setQuery(evt.target.value);\n  };\n\n  return (\n    <SaerchForm onSubmit={onSubmit}>\n      <SaerchFormLabel>\n        <SearchFormInput\n          type=\"text\"\n          name=\"searchInput\"\n          autoComplete=\"off\"\n          placeholder=\"Search movies\"\n          autoFocus\n          onChange={handleChange}\n          value={query}\n        />\n      </SaerchFormLabel>\n      <SearchFormBtn type=\"submit\">\n        <SearchFormBtnLabel>Search</SearchFormBtnLabel>\n      </SearchFormBtn>\n    </SaerchForm>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","// Libs\nimport styled from '@emotion/styled';\n\nexport const SaerchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 300px;\n  background-color: #0e222b;\n  border-radius: 8px;\n`;\n\nexport const SaerchFormLabel = styled.label`\n  height: 48px;\n`;\n\nexport const SearchFormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n  font-size: 20px;\n  border: none;\n  padding: 0 16px;\n  background-color: transparent;\n  color: inherit;\n  outline: none;\n\n  &::placeholder {\n    font-size: 18px;\n  }\n`;\n\nexport const SearchFormBtn = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  padding: 0;\n  border-top-right-radius: 8px;\n  border-bottom-right-radius: 8px;\n  background-image: url('https://cdn-icons-png.flaticon.com/512/109/109164.png');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    opacity: 1;\n  }\n`;\n\nexport const SearchFormBtnLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n","export const transformMovieDetailsData = ({\n  poster_path,\n  title,\n  release_date,\n  vote_average,\n  overview,\n  genres,\n}) => ({\n  title,\n  overview,\n  year: release_date.substr(0, 4),\n  userScore: `${(vote_average * 10).toFixed(0)}%`,\n\n  genres: genres.length\n    ? genres.map(item => item.name).join(', ')\n    : \"Unfortunately, we don't have information about the genres of this movie.\",\n\n  posterPath: poster_path\n    ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n    : 'https://via.placeholder.com/200x300',\n});\n","// Libs\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n// Services\nimport { getMoviesByTitle } from '../../services/themoviedb-api';\n// Components\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport Loader from 'components/Loader/Loader';\nimport MoviesList from 'components/MoviesList/MoviesList';\n// Styled components\nimport { Page } from './Movies.styled';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const searchValue = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!searchValue) {\n      setMovies(null);\n      return;\n    }\n\n    setIsLoading(true);\n\n    getMoviesByTitle(searchValue)\n      .then(data => setMovies(data))\n      .catch(() => toast.error('Something went wrong, please try again later.'))\n      .finally(() => setIsLoading(false));\n  }, [searchValue]);\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    const inputValue = evt.target.elements.searchInput.value\n      .trim()\n      .toLowerCase();\n\n    if (inputValue === '') {\n      toast.info('Please, enter yor search request.');\n      return;\n    }\n\n    setSearchParams({ query: inputValue });\n  };\n\n  return (\n    <Page>\n      <SearchForm onSubmit={handleSubmit} />\n\n      {isLoading && <Loader />}\n\n      {movies && <MoviesList data={movies} />}\n\n      {movies?.length === 0 && (\n        <p>There is no movies matching your request: \"{searchValue}\"</p>\n      )}\n    </Page>\n  );\n};\n\nexport default Movies;\n","// Libs\nimport styled from '@emotion/styled';\n\nexport const Page = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n`;\n","// Libs\nimport axios from 'axios';\n// Helpers\nimport { transformMovieDetailsData } from '../helpers/transformMovieDetailsData';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst searchParams = new URLSearchParams({\n  method: 'GET',\n  api_key: 'bdb5e5a669f604b5ce5232529fdedd0b',\n  language: 'en-US',\n  include_adult: false,\n  headers: {\n    accept: 'application/json',\n  },\n});\n\nexport const getDayTrendingMovies = async () => {\n  const path = '/trending/movie/day';\n\n  const response = await axios.get(`${path}?${searchParams}`);\n\n  return response.data.results;\n};\n\nexport const getMoviesByTitle = async query => {\n  const path = '/search/movie';\n\n  const response = await axios.get(`${path}?${searchParams}&query=${query}`);\n\n  return response.data.results;\n};\n\nexport const getMovieDetailsById = async movieId => {\n  const path = `/movie/${movieId}`;\n\n  const response = await axios.get(`${path}?${searchParams}`);\n\n  return transformMovieDetailsData(response.data);\n};\n\nexport const getMovieCastById = async movieId => {\n  const path = `/movie/${movieId}/credits`;\n\n  const response = await axios.get(`${path}?${searchParams}`);\n\n  return response.data.cast;\n};\n\nexport const getMovieReviewsById = async movieId => {\n  const path = `/movie/${movieId}/reviews`;\n\n  const response = await axios.get(`${path}?${searchParams}`);\n\n  return response.data.results;\n};\n"],"names":["data","location","useLocation","List","map","id","title","StyledLink","to","state","from","styled","Link","onSubmit","useState","query","setQuery","useSearchParams","searchParams","useEffect","searchValue","get","SaerchForm","SaerchFormLabel","SearchFormInput","type","name","autoComplete","placeholder","autoFocus","onChange","evt","target","value","SearchFormBtn","SearchFormBtnLabel","transformMovieDetailsData","poster_path","release_date","vote_average","overview","genres","year","substr","userScore","toFixed","length","item","join","posterPath","movies","setMovies","isLoading","setIsLoading","setSearchParams","getMoviesByTitle","then","catch","toast","finally","Page","preventDefault","inputValue","elements","searchInput","trim","toLowerCase","axios","URLSearchParams","method","api_key","language","include_adult","headers","accept","getDayTrendingMovies","response","results","getMovieDetailsById","movieId","path","getMovieCastById","cast","getMovieReviewsById"],"sourceRoot":""}