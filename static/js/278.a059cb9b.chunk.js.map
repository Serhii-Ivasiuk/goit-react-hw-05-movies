{"version":3,"file":"static/js/278.a059cb9b.chunk.js","mappings":"+MA8EA,UAvEe,WACb,OAA4BA,EAAAA,EAAAA,UAAS,MAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WAAO,IAAD,EACRC,EAAK,UAAGL,EAAaM,IAAI,gBAApB,QAAgC,GAEtCD,GAKLP,GAAa,IAEbS,EAAAA,EAAAA,IAAiBF,GACdG,MAAK,SAAAC,GAAI,OAAIb,EAAUa,EAAd,IACTC,SAAQ,kBAAMZ,GAAa,EAAnB,KARTF,EAAU,KASb,GAAE,CAACI,IAmBJ,OACE,iCACE,kBAAMW,SAnBW,SAAAC,GACnBA,EAAIC,iBAEJ,IAAMC,EAAaF,EAAIG,OAAOC,SAASC,YAAYC,MAChDC,OACAC,cAEgB,KAAfN,GAKJb,EAAgB,CAAEI,MAAOS,IAEzBF,EAAIG,OAAOM,SANTC,MAAM,iCAOT,EAIG,WACE,4BACE,kBAAOC,KAAK,OAAOC,KAAK,mBAE1B,mBAAQD,KAAK,SAAb,SAAsB,cAGvB1B,IAAa,SAAC,IAAD,CAAY4B,MAAM,YAE/B9B,IAAWE,IACV,wBACGF,EAAO+B,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKF,GAAMG,MAAO,CAAEC,KAAM7B,GAAlC,SACG0B,KAFID,EADC,MAUI,KAAb,OAANhC,QAAM,IAANA,OAAA,EAAAA,EAAQqC,UAAiBnC,IACxB,2BAAK,8CACyCG,EAAaM,IAAI,SAAS,SAM/E,C,+LC1ED2B,EAAAA,EAAAA,SAAAA,QAAyB,+BAEzB,IAAMjC,EAAe,IAAIkC,gBAAgB,CACvCC,OAAQ,MACRC,QAAS,mCACTC,SAAU,QACVC,eAAe,EACfC,QAAS,CACPC,OAAQ,sBAICC,EAAoB,mCAAG,0FACrB,sBADqB,SAGXR,EAAAA,EAAAA,IAAA,UAFV,sBAEU,YAAqBjC,IAHV,cAG5B0C,EAH4B,yBAK3BA,EAASjC,KAAKkC,SALa,2CAAH,qDAQpBpC,EAAgB,mCAAG,WAAMF,GAAN,6EACjB,gBADiB,SAGP4B,EAAAA,EAAAA,IAAA,UAFV,gBAEU,YAAqBjC,EAArB,kBAA2CK,IAHpC,cAGxBqC,EAHwB,yBAKvBA,EAASjC,KAAKkC,SALS,2CAAH,sDAQhBC,EAAmB,mCAAG,WAAMC,GAAN,gFAC3BC,EAD2B,iBACVD,GADU,SAGVZ,EAAAA,EAAAA,IAAA,UAAaa,EAAb,YAAqB9C,IAHX,cAG3B0C,EAH2B,yBAK1BA,EAASjC,MALiB,2CAAH,sDAQnBsC,EAAmB,mCAAG,WAAMF,GAAN,gFAC3BC,EAD2B,iBACVD,EADU,qBAGVZ,EAAAA,EAAAA,IAAA,UAAaa,EAAb,YAAqB9C,IAHX,cAG3B0C,EAH2B,yBAK1BA,EAASjC,KAAKuC,MALY,2CAAH,sDAQnBC,EAAmB,mCAAG,WAAMJ,GAAN,gFAC3BC,EAD2B,iBACVD,EADU,qBAGVZ,EAAAA,EAAAA,IAAA,UAAaa,EAAb,YAAqB9C,IAHX,cAG3B0C,EAH2B,yBAK1BA,EAASjC,KAAKkC,SALY,2CAAH,qD","sources":["pages/Movies/Movies.jsx","services/themoviedb-api.js"],"sourcesContent":["// Libs\nimport { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { BeatLoader } from 'react-spinners';\n// Services\nimport { getMoviesByTitle } from '../../services/themoviedb-api';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    const query = searchParams.get('query') ?? '';\n\n    if (!query) {\n      setMovies(null);\n      return;\n    }\n\n    setIsLoading(true);\n\n    getMoviesByTitle(query)\n      .then(data => setMovies(data))\n      .finally(() => setIsLoading(false));\n  }, [searchParams]);\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    const queryValue = evt.target.elements.searchInput.value\n      .trim()\n      .toLowerCase();\n\n    if (queryValue === '') {\n      alert('Please enter your search query');\n      return;\n    }\n\n    setSearchParams({ query: queryValue });\n\n    evt.target.reset();\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <input type=\"text\" name=\"searchInput\" />\n        </label>\n        <button type=\"submit\">Search</button>\n      </form>\n\n      {isLoading && <BeatLoader color=\"#36d7b7\" />}\n\n      {movies && !isLoading && (\n        <ul>\n          {movies.map(({ id, title }) => (\n            <li key={id}>\n              <Link to={`${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n\n      {movies?.length === 0 && !isLoading && (\n        <div>\n          There is no movies matching your request: \"{searchParams.get('query')}\n          \"\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst searchParams = new URLSearchParams({\n  method: 'GET',\n  api_key: 'bdb5e5a669f604b5ce5232529fdedd0b',\n  language: 'en-US',\n  include_adult: false,\n  headers: {\n    accept: 'application/json',\n  },\n});\n\nexport const getDayTrendingMovies = async () => {\n  const path = '/trending/movie/day';\n\n  const response = await axios.get(`${path}?${searchParams}`);\n\n  return response.data.results;\n};\n\nexport const getMoviesByTitle = async query => {\n  const path = '/search/movie';\n\n  const response = await axios.get(`${path}?${searchParams}&query=${query}`);\n\n  return response.data.results;\n};\n\nexport const getMovieDetailsById = async movieId => {\n  const path = `/movie/${movieId}`;\n\n  const response = await axios.get(`${path}?${searchParams}`);\n\n  return response.data;\n};\n\nexport const getMovieCreditsById = async movieId => {\n  const path = `/movie/${movieId}/credits`;\n\n  const response = await axios.get(`${path}?${searchParams}`);\n\n  return response.data.cast;\n};\n\nexport const getMovieReviewsById = async movieId => {\n  const path = `/movie/${movieId}/reviews`;\n\n  const response = await axios.get(`${path}?${searchParams}`);\n\n  return response.data.results;\n};\n"],"names":["useState","movies","setMovies","isLoading","setIsLoading","useSearchParams","searchParams","setSearchParams","location","useLocation","useEffect","query","get","getMoviesByTitle","then","data","finally","onSubmit","evt","preventDefault","queryValue","target","elements","searchInput","value","trim","toLowerCase","reset","alert","type","name","color","map","id","title","to","state","from","length","axios","URLSearchParams","method","api_key","language","include_adult","headers","accept","getDayTrendingMovies","response","results","getMovieDetailsById","movieId","path","getMovieCreditsById","cast","getMovieReviewsById"],"sourceRoot":""}