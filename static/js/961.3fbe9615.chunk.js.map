{"version":3,"file":"static/js/961.3fbe9615.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.jsx","services/themoviedb-api.js"],"sourcesContent":["// Libs\nimport { Suspense, useEffect, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\n// Services\nimport { getMovieDetailsById } from '../../services/themoviedb-api';\n// Components\nimport Loader from 'components/Loader/Loader';\n\nconst MovieDetails = () => {\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  const backLinkLocation = location.state?.from ?? '/';\n  let genres = '';\n  let userScore = '';\n  let year = '';\n  let posterPath = '';\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    getMovieDetailsById(movieId)\n      .then(data => setMovieDetails(data))\n      .finally(() => setIsLoading(false));\n  }, [movieId]);\n\n  if (movieDetails) {\n    genres = movieDetails.genres.length\n      ? movieDetails.genres.map(item => item.name).join(', ')\n      : \"Unfortunately, we don't have information about the genres of this movie.\";\n\n    userScore = `${(movieDetails.vote_average * 10).toFixed(0)}%`;\n\n    year = movieDetails.release_date.substr(0, 4);\n\n    posterPath = movieDetails.poster_path\n      ? `https://image.tmdb.org/t/p/w500/${movieDetails.poster_path}`\n      : 'https://via.placeholder.com/200x300';\n  }\n\n  return (\n    <>\n      {isLoading && <Loader />}\n\n      {movieDetails && (\n        <div>\n          <Link to={backLinkLocation}>â¬… go back</Link>\n          <div>\n            <img\n              src={posterPath}\n              alt={movieDetails.title}\n              width=\"200\"\n              height=\"300\"\n            />\n            <h1>\n              {movieDetails.title} ({year})\n            </h1>\n            <p>User Score: {userScore}</p>\n            <p>Overview</p>\n            <p>{movieDetails.overview}</p>\n            <p>Genres</p>\n            <p>{genres}</p>\n          </div>\n          <hr />\n\n          <p>Additional information</p>\n          <ul>\n            <li>\n              <Link to=\"cast\" state={{ from: backLinkLocation }}>\n                Cast\n              </Link>\n            </li>\n            <li>\n              <Link to=\"reviews\" state={{ from: backLinkLocation }}>\n                Reviews\n              </Link>\n            </li>\n          </ul>\n          <hr />\n        </div>\n      )}\n\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst searchParams = new URLSearchParams({\n  method: 'GET',\n  api_key: 'bdb5e5a669f604b5ce5232529fdedd0b',\n  language: 'en-US',\n  include_adult: false,\n  headers: {\n    accept: 'application/json',\n  },\n});\n\nexport const getDayTrendingMovies = async () => {\n  const path = '/trending/movie/day';\n\n  const response = await axios.get(`${path}?${searchParams}`);\n\n  return response.data.results;\n};\n\nexport const getMoviesByTitle = async query => {\n  const path = '/search/movie';\n\n  const response = await axios.get(`${path}?${searchParams}&query=${query}`);\n\n  return response.data.results;\n};\n\nexport const getMovieDetailsById = async movieId => {\n  const path = `/movie/${movieId}`;\n\n  const response = await axios.get(`${path}?${searchParams}`);\n\n  return response.data;\n};\n\nexport const getMovieCastById = async movieId => {\n  const path = `/movie/${movieId}/credits`;\n\n  const response = await axios.get(`${path}?${searchParams}`);\n\n  return response.data.cast;\n};\n\nexport const getMovieReviewsById = async movieId => {\n  const path = `/movie/${movieId}/reviews`;\n\n  const response = await axios.get(`${path}?${searchParams}`);\n\n  return response.data.results;\n};\n"],"names":["useState","movieDetails","setMovieDetails","isLoading","setIsLoading","movieId","useParams","backLinkLocation","useLocation","state","from","genres","userScore","year","posterPath","useEffect","getMovieDetailsById","then","data","finally","length","map","item","name","join","vote_average","toFixed","release_date","substr","poster_path","to","src","alt","title","width","height","overview","Suspense","fallback","axios","searchParams","URLSearchParams","method","api_key","language","include_adult","headers","accept","getDayTrendingMovies","response","results","getMoviesByTitle","query","path","getMovieCastById","cast","getMovieReviewsById"],"sourceRoot":""}